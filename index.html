<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Kendrick Lamar Parallax Landing</title>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Doto:wght@100..900&family=Fredericka+the+Great&family=Meie+Script&family=UnifrakturCook:wght@700&display=swap" rel="stylesheet">

<style>
  body {
    margin: 0;
    height: 350vh;
    background: #010100;
    overflow-x: hidden;
    font-family: 'EB Garamond', serif;
    color: white;
  }

  /* Parallax container */
  .parallax-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }

  .element {
    position: absolute;
    transition: opacity 1s ease-out;
    --base-scale: 1; 
    --base-rotate: 0; 
    --scroll-rotate: 0; 
    opacity: 0;                
    transform: translateY(20px);
  }

  .element.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Example custom base scales */
  #elem1 { --base-scale: 0.3; --base-rotate: -15;  --scroll-rotate: -0.01; }
  #elem2 { --base-scale: 0.9; --base-rotate: -16; --scroll-rotate: 0.005;   }
  #elem3 { --base-scale: 1; --base-rotate: -17;  --scroll-rotate: 0.007;  }
  #elem4 { --base-scale: 0.5; --base-rotate: -14;  --scroll-rotate: 0.003;  }
  #elem5 { --base-scale: 0.28; --base-rotate: -13;  --scroll-rotate: 0.012;  }
  #elem6 { --base-scale: 0.5; --base-rotate: -15;  --scroll-rotate: 0.008;  }
  #elem7 { --base-scale: 0.5; --base-rotate: -17;  --scroll-rotate: 0.006;  }
  #elem8 { --base-scale: 0.3; --base-rotate: -14;  --scroll-rotate: 0.004;  }
  #elem9 { --base-scale: 0.4; --base-rotate: -15;  --scroll-rotate: 0.01;  }

  .img-wrapper {
    pointer-events: auto;
    display: inline-block;
    transform-origin: center;
    will-change: transform;
    animation: float 6s ease-in-out infinite;
  }

  .img-wrapper img {
    width: 600px;
    display: block;
    transition: transform 220ms cubic-bezier(.2,.9,.2,1);
    transform-origin: center center;
    will-change: transform;
  }

  .img-wrapper img:hover {
    transform: scale(1.12);
  }

  @keyframes float {
    0% { transform: translateY(0px) rotate(-0.6deg); }
    50% { transform: translateY(-8px) rotate(0.6deg); }
    100% { transform: translateY(0px) rotate(-0.6deg); }
  }

  .element-text {
    color: hsl(0,0%,10%);
    font-size: 48px;
    font-weight: bold;
    text-transform: lowercase;
  }

  /* Homepage button */
  #homeButton {
    position: fixed;
    top: 20px;
    left: 30px;
    font-size: 22px;
    font-weight: bold;
    color: #ccc;
    cursor: pointer;
    opacity: 0;
    transform: translateY(-10px);
    transition: opacity 0.6s ease, transform 0.6s ease;
    pointer-events: auto;
    text-decoration: none;
  }
  #homeButton.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Scroll-triggered text */
  .scroll-text-container {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, 40px);
    display: flex;
    gap: 20px;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.4s ease-out, transform 0.4s ease-out;
  }
  .scroll-word {
    font-size: 22px;
    font-weight: bold;
    color: white;
    opacity: 0;
    transition: opacity 0.4s ease-out;
  }
  .love-wrapper { display: inline-block; width: 6ch; text-align: center; }
  .love { display: inline-block; line-height: 1.4; }

  @keyframes fontCycle {
    0%   { font-family: 'EB Garamond', serif; }
    20%  { font-family: 'Doto', sans-serif; }
    40%  { font-family: 'Fredericka the Great', serif; }
    60%  { font-family: 'Arial', cursive; }
    80%  { font-family: 'Comic Sans MS', serif; }
    100% { font-family: 'Impact', serif; }
  }
  .scroll-word.love.animate-font { animation: fontCycle 2.5s infinite linear; }

  /* Noise overlay */
  .noise-overlay {
    position: fixed; top:0; left:0;
    width:100%; height:100%;
    pointer-events:none;
    opacity:0.12;
    z-index:9999;
  }

  /* Paragraph */
  #paragraphContainer {
    position: fixed;
    left: 50%;
    top: 70%;
    transform: translate(-50%, 40px);
    max-width: 700px;
    font-size: 18px;
    line-height: 1.6;
    opacity: 0;
    transition: opacity 0.4s ease-out, transform 0.4s ease-out;
    text-align: justify;
    word-break: normal;        /* donâ€™t break words */
    overflow-wrap: break-word; /* wrap long words if needed */
  }
  .decrypted-char { display: inline; white-space: normal; }

  /* social buttons */
  #socialsContainer {
    position: fixed;
    left: 50%;
    bottom: 3%;
    transform: translateX(-50%) translateY(20px);
    display: flex;
    gap: 15px;
    opacity: 0;
    transition: opacity 0.5s ease, transform 0.5s ease;
    pointer-events: auto;
  }

  .social-btn {
    width: 32px;
    height: 32px;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: transform 0.18s ease, background 0.18s ease;
    background: transparent;
  }
  .social-btn img {
    width: 70%;
    height: 70%;
    object-fit: contain;
    display: block;
  }
  .social-btn:hover { transform: scale(1.08); }
</style>
</head>
<body>

<!-- Parallax images -->
<div class="parallax-container">
  <div class="element" style="top:20%; left:33%;" id="elem2">
    <div class="img-wrapper"><img src="magazine.webp" alt="magazine"></div>
  </div>
  <div class="element" style="top:8%; left:52%;" id="elem4">
    <div class="img-wrapper"><img src="cacao.webp" alt="cacao"></div>
  </div>
  <div class="element" style="top:35%; left:20%;" id="elem1">
    <div class="img-wrapper"><img src="Nik Muvit.webp" alt="muvit"></div>
  </div>
  <div class="element" style="top:-33%; left:21%;" id="elem5">
    <div class="img-wrapper"><img src="nik barcelona.webp" alt="barcelona"></div>
  </div>
  <div class="element" style="top:23%; left:12%;" id="elem6">
    <div class="img-wrapper"><img src="liza.webp" alt="liza"></div>
  </div>
  <div class="element" style="top:48%; left:38%;" id="elem7">
    <div class="img-wrapper"><img src="kolo.webp" alt="kolo"></div>
  </div>
  <div class="element" style="top:16%; left:54%;" id="elem8">
    <div class="img-wrapper"><img src="lips.webp" alt="love in plane sight"></div>
  </div>
  <div class="element" style="top:-3%; left:37%;" id="elem9">
    <div class="img-wrapper"><img src="eve.webp" alt="eve"></div>
  </div>
  <div class="element element-text" style="top:42%; left:43%;" id="elem3">nik kranjec</div>
</div>

<!-- Homepage Button -->
<a href="https://nikkranjec.com/niktest.github.io/index.html" id="homeButton">homepage</a>

<!-- Scroll-triggered text -->
<div class="scroll-text-container" id="scrollText">
  <span class="scroll-word" id="word1">reincarnated</span>
  <span class="scroll-word" id="word2">with</span>
  <span class="love-wrapper"><span class="scroll-word love" id="word3">Love</span></span>
</div>

<!-- Paragraph -->
<div id="paragraphContainer">
  <span id="decryptedText">
    The skills and forms I once mastered no longer define me. So I am dedicating this space to be a playground for exploration. A space where curiosity and creation meet. Here, we explore what it means to reconnect with oneself, with others, with the world. Through workshops, personal projects, and shared expressions, I invite experiences that awaken creativity, presence, and joy. What you see here is only the beginning. More will unfold as these explorations take shape.
  </span>
</div>

<!-- Social buttons -->
<div id="socialsContainer">
  <a href="https://www.instagram.com/nikkranjec/" class="social-btn" target="_blank"><img src="instagram.png" alt="Instagram"></a>
  <a href="https://www.tiktok.com/@nikkranjec" class="social-btn" target="_blank"><img src="tiktok.png" alt="TikTok"></a>
  <a href="https://www.youtube.com/@nikkranjec" class="social-btn" target="_blank"><img src="youtube.png" alt="Youtube"></a>
  <a href="https://linkedin.com" class="social-btn" target="_blank"><img src="linkedin.png" alt="LinkedIn"></a>
  <a href="mailto:nik.kranjec@gmail.com" class="social-btn" target="_blank"><img src="email.png" alt="Email"></a>
</div>

<!-- Noise overlay -->
<canvas class="noise-overlay" id="noiseCanvas"></canvas>

<script>
/* ------------------ Parallax scrolling with scale + rotation ------------------ */
const elements = [
  {el: document.getElementById('elem1'), speed: 0.5},
  {el: document.getElementById('elem2'), speed: 0.35},
  {el: document.getElementById('elem3'), speed: 0.3},
  {el: document.getElementById('elem4'), speed: 0.45},
  {el: document.getElementById('elem5'), speed: 0.2},
  {el: document.getElementById('elem6'), speed: 0.38},
  {el: document.getElementById('elem7'), speed: 0.5},
  {el: document.getElementById('elem8'), speed: 0.35},
  {el: document.getElementById('elem9'), speed: 0.34},
];

elements.forEach(({el})=>{
  const wrapper = el.querySelector('.img-wrapper');
  if(wrapper) wrapper.style.animationDelay = `${(Math.random()*2).toFixed(2)}s`;
});

/* fade in on load */
window.addEventListener('load', () => {
  elements.forEach(({el}, index) => {
    setTimeout(() => {
      el.classList.add('visible');
      updateParallax(); 
    }, 100 + index * 50);
  });
});

function updateParallax() {
  const scrollY = window.scrollY;
  elements.forEach(({el, speed})=>{
    const scaleFactor = Math.max(0.5,1-scrollY*0.0005);
    const baseScale   = parseFloat(getComputedStyle(el).getPropertyValue('--base-scale')) || 1;
    const baseRotate  = parseFloat(getComputedStyle(el).getPropertyValue('--base-rotate')) || 0;
    const scrollRot   = parseFloat(getComputedStyle(el).getPropertyValue('--scroll-rotate')) || 0;
    const rotateDeg   = baseRotate + scrollY * scrollRot;
    const translateY  = -scrollY * speed;
    el.style.transform=`translateY(${translateY}px) rotate(${rotateDeg}deg) scale(${baseScale * scaleFactor})`;
  });
}
window.addEventListener('scroll', updateParallax);

/* ------------------ Homepage button fade in ------------------ */
const homeButton = document.getElementById("homeButton");
window.addEventListener("scroll", () => {
  if(window.scrollY > 100){
    homeButton.classList.add("visible");
  } else {
    homeButton.classList.remove("visible");
  }
});

/* ------------------ Scroll-triggered "reincarnated" text ------------------ */
const scrollText = document.getElementById("scrollText");
const words = [document.getElementById("word1"),document.getElementById("word2"),document.getElementById("word3")];
const appearStart=500,appearEnd=800,disappearStart=1500,disappearEnd=1800,moveDistance=40;

window.addEventListener("scroll", ()=>{
  const scrollY = window.scrollY;
  if(scrollY<appearStart){
    scrollText.style.opacity=0;
    scrollText.style.transform=`translate(-50%,${moveDistance}px)`;
    words.forEach(w=>{w.style.opacity=0; w.classList.remove("animate-font");});
  } else if(scrollY>=appearStart && scrollY<=appearEnd){
    const progress=(scrollY-appearStart)/(appearEnd-appearStart);
    scrollText.style.opacity=progress;
    scrollText.style.transform=`translate(-50%,${moveDistance*(1-progress)}px)`;
    words.forEach(w=>{w.style.opacity=progress; if(w.id==="word3") w.classList.add("animate-font");});
  } else if(scrollY>appearEnd && scrollY<disappearStart){
    scrollText.style.opacity=1;
    scrollText.style.transform="translate(-50%,0)";
    words.forEach(w=>{w.style.opacity=1; if(w.id==="word3") w.classList.add("animate-font");});
  } else if(scrollY>=disappearStart && scrollY<=disappearEnd){
    const progress=1-(scrollY-disappearStart)/(disappearEnd-disappearStart);
    scrollText.style.opacity=progress;
    scrollText.style.transform=`translate(-50%,${-moveDistance*(1-progress)}px)`;
    words.forEach(w=>{w.style.opacity=progress;});
  } else{
    scrollText.style.opacity=0;
    scrollText.style.transform=`translate(-50%,${-moveDistance}px)`;
    words.forEach(w=>{w.style.opacity=0; w.classList.remove("animate-font");});
  }
});

/* ------------------ Noise overlay ------------------ */
const canvas=document.getElementById('noiseCanvas'); 
const ctx=canvas.getContext('2d');
function resizeCanvas(){canvas.width=window.innerWidth; canvas.height=window.innerHeight;}
window.addEventListener('resize',resizeCanvas);
resizeCanvas();
function generateNoise(){
  const imageData=ctx.createImageData(canvas.width,canvas.height);
  const buffer=new Uint32Array(imageData.data.buffer);
  for(let i=0;i<buffer.length;i++){
    const val=Math.random()*255|0;
    buffer[i]=(255<<24)|(val<<16)|(val<<8)|val;
  }
  ctx.putImageData(imageData,0,0);
}
function loopNoise(){generateNoise(); requestAnimationFrame(loopNoise);}
loopNoise();

/* ------------------ Paragraph decryption ------------------ */
const paragraph = document.getElementById("paragraphContainer");
const decryptedEl = document.getElementById("decryptedText");
const textContent = decryptedEl.innerText.trim();
decryptedEl.innerHTML = "";
const chars = [];
for (let c of textContent) {
  const span = document.createElement("span");
  span.className = "decrypted-char";
  span.textContent = c===" " ? "\u00A0": c;
  decryptedEl.appendChild(span);
  chars.push(span);
}

function decryptOnce() {
  let progress=0;
  const interval = setInterval(()=>{
    chars.forEach((ch,i)=>{
      if(i<=progress) ch.textContent = textContent[i]===" " ? "\u00A0" : textContent[i];
      else ch.textContent = String.fromCharCode(33 + Math.floor(Math.random()*94));
    });
    progress++;
    if(progress>=chars.length) clearInterval(interval);
  },30);
}

/* ------------------ Paragraph scroll animation ------------------ */
const paraAppearStart = disappearEnd + 50;
const paraAppearEnd = paraAppearStart + 300;
const paraDisappearStart = paraAppearEnd + 900;
const paraDisappearEnd = paraDisappearStart + 300;
const paraMoveDistance = 40;

window.addEventListener("scroll", ()=>{
  const scrollY = window.scrollY;
  if(scrollY < paraAppearStart){
    paragraph.style.opacity = 0;
    paragraph.style.transform = `translate(-50%, ${paraMoveDistance}px)`;
  } else if(scrollY >= paraAppearStart && scrollY <= paraAppearEnd){
    const progress = (scrollY-paraAppearStart)/(paraAppearEnd-paraAppearStart);
    paragraph.style.opacity = progress;
    paragraph.style.transform = `translate(-50%, ${paraMoveDistance*(1-progress)}px)`;
    if(!paragraph.dataset.activated){
      paragraph.dataset.activated = "true";
      decryptOnce();
    }
  } else if(scrollY > paraAppearEnd && scrollY < paraDisappearStart){
    paragraph.style.opacity = 1;
    paragraph.style.transform = "translate(-50%,0)";
  } else if(scrollY >= paraDisappearStart && scrollY <= paraDisappearEnd){
    const progress = 1-(scrollY-paraDisappearStart)/(paraDisappearEnd-paraDisappearStart);
    paragraph.style.opacity = progress;
    paragraph.style.transform = `translate(-50%, ${-paraMoveDistance*(1-progress)}px)`;
  } else{
    paragraph.style.opacity = 0;
    paragraph.style.transform = `translate(-50%, ${-paraMoveDistance}px)`;
  }
});

/* ------------------ social buttons ------------------ */
const socials = document.getElementById("socialsContainer");
window.addEventListener("scroll", () => {
  const scrollY = window.scrollY;
  const trigger = paraAppearEnd + 50;
  if (scrollY > trigger) {
    socials.style.opacity = 1;
    socials.style.transform = "translateX(-50%) translateY(0)";
  } else {
    socials.style.opacity = 0;
    socials.style.transform = "translateX(-50%) translateY(20px)";
  }
});
</script>
</body>
</html>
